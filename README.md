# python-producer
This Python Kafka producer generates random events and sends them to a Kafka topic using the kafka-python library.

## Table of Contents
- [Installation](#installation)
- [Usage](#usage)

## Installation

1. Clone this repository:

    ```git clone https://github.com/Romi7102/python-producer.git```

2. Install the required dependencies: (only for none docker usage)
    
    ``` pip install -r requirements.txt```


## Usage

1. Ensure that you have a running Kafka cluster.

2. Fill the yaml configuration with the following values:
    
    BOOTSTRAP_SERVER: Specifies the bootstrap servers for your Kafka cluster. These are used by the Kafka consumer to initially establish connections with the Kafka brokers in the cluster

    KAFKA_TOPIC: Specifies the Kafka topic that the Kafka consumer will subscribe to. The consumer will receive messages from this topic and process them accordingly.

    SLEEP: Specifies the number of seconds to sleep between each insertion.

    MESSAGE: Specifies the message to be sent to the Kafka broker inside the event object.

    METRIC_ID_MIN: Specifies the minimum id number for the id generation.

    METRIC_ID_MAX: Specifies the maximum id number for the id generation.

    METRIC_VALUE_MIN: Specifies the minimum value for the value generation.

    METRIC_VALUE_MAX: Specifies the maximum value for the value generation.

    REPORTER_ID_START: Specifies the starting reporter id.

    REPORTER_ID_INCREMENT: Specifies the reporter id increments for every new event generated.

    ENCODING: Specifies the json encoding of the data to be generated.

    DATETIME_FORMAT: Specifies the date format of the data to be generated.


4. Build the docker image using the dokcer file

    ```dokcer build -t python-producer .```

5. Run the image with the following command:

   `docker run python-producer`  

## Event object

The event object is randomly generated by a function in the utils file , Feel free to change this in the utils.py file.
    
    
 

## Running without docker

Alternatively, you can run the project locally. like stated in the [Installation](#installation) instructions , start with installing the requirements from the requirements.txt file with the following command:

` pip install -r requirements.txt`

Then provide the configuration to the config.yaml file the same way you would if running in docker.

Finally, run the main.py file with the following command:

`python main.py`
